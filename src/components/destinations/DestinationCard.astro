---
import { Image } from 'astro:assets';
import type { Destination } from '../../types/destination';

interface Props {
	destination: Destination;
}

const { destination } = Astro.props;
---

<a
	href={`/destinations/${destination.slug}`}
	class="group block bg-white rounded-xl shadow-md hover:shadow-2xl transition-all duration-300 overflow-hidden transform hover:-translate-y-2"
>
	<div class="relative h-64 overflow-hidden">
		<Image
			src={destination.image}
			alt={destination.name}
			width={400}
			height={256}
			format="webp"
			quality={85}
			loading="lazy"
			class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"
		/>
		<div class="absolute inset-0 bg-gradient-to-t from-black/80 via-black/30 to-transparent"></div>

		{/* Badges */}
		<div class="absolute top-4 right-4 flex gap-2">
			{destination.popular && (
				<span class="bg-accent-500 text-white text-xs font-semibold px-3 py-1 rounded-full">
					Popular
				</span>
			)}
			{destination.featured && (
				<span class="bg-primary-600 text-white text-xs font-semibold px-3 py-1 rounded-full">
					Featured
				</span>
			)}
		</div>

		{/* Destination Info Overlay */}
		<div class="absolute bottom-0 left-0 right-0 p-6 text-white">
			<h3 class="text-2xl font-bold mb-1">{destination.name}</h3>
			<p class="text-sm text-gray-200">{destination.country}</p>
		</div>
	</div>

	<div class="p-6">
		<p class="text-gray-600 text-sm mb-4 line-clamp-2">
			{destination.description}
		</p>

		<div class="flex items-center justify-between mb-4">
			<div>
				<p class="text-xs text-gray-500">From</p>
				<p class="text-2xl font-bold text-primary-600">
					${destination.starting_price}
				</p>
			</div>
			<div class="text-right">
				<p class="text-xs text-gray-500">Flights per week</p>
				<p class="text-lg font-semibold text-gray-900">
					{destination.weekly_flights}
				</p>
			</div>
		</div>

		<div class="flex items-center justify-between pt-4 border-t border-gray-200">
			<div class="flex items-center gap-2 text-sm text-gray-600">
				<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
					<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
				</svg>
				<span>{destination.flight_time}</span>
			</div>

			<div class="flex items-center gap-2 text-primary-600 font-medium text-sm group-hover:gap-3 transition-all">
				<span>View Details</span>
				<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
					<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
				</svg>
			</div>
		</div>
	</div>
</a>
