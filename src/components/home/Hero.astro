---
import { Image } from 'astro:assets';
import FlightSearchForm from '../booking/FlightSearchForm.jsx';
import { getLanguageFromCookie, getTranslations } from '../../i18n/utils';

const lang = getLanguageFromCookie(Astro.request.headers.get('cookie') || '');
const t = getTranslations(lang);
---

<section class="relative h-screen min-h-[600px]">
	<!-- Background Image with Overlay -->
	<div class="absolute inset-0 z-0">
		<Image
			src="https://images.unsplash.com/photo-1436491865332-7a61a109cc05?w=1920&q=80"
			alt="Airplane flying above clouds"
			width={1920}
			height={1080}
			format="webp"
			quality={80}
			loading="eager"
			class="w-full h-full object-cover"
		/>
		<div class="absolute inset-0 bg-gradient-to-b from-black/60 via-black/40 to-black/60"></div>
	</div>

	<!-- Content -->
	<div class="relative z-10 container mx-auto px-4 h-full flex flex-col justify-center">
		<div class="text-center mb-8">
			<h1 class="text-5xl md:text-7xl font-bold text-white mb-4 animate-fade-in">
				{t.hero.title}
			</h1>
			<p class="text-xl md:text-2xl text-white/90 max-w-3xl mx-auto">
				{t.hero.subtitle}
			</p>
		</div>

		<!-- Flight Search Form -->
		<div class="bg-white rounded-2xl shadow-2xl p-6 md:p-8 max-w-5xl mx-auto w-full">
			<FlightSearchForm client:load />
		</div>
	</div>

	<!-- Scroll Indicator -->
	<div class="absolute bottom-8 left-1/2 transform -translate-x-1/2 z-10 hidden md:block">
		<div class="flex flex-col items-center text-white animate-bounce">
			<span class="text-sm mb-2">Explore More</span>
			<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
				<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"></path>
			</svg>
		</div>
	</div>
</section>

<style>
	@keyframes fade-in {
		from {
			opacity: 0;
			transform: translateY(20px);
		}
		to {
			opacity: 1;
			transform: translateY(0);
		}
	}

	.animate-fade-in {
		animation: fade-in 1s ease-out;
	}
</style>
